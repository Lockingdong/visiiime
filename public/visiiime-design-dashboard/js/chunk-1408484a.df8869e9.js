(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1408484a"],{"6ac4":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-3"},[n("div",{staticClass:"text-center bg-gray-500 text-white py-1"},[t._v("連結圖片")]),t.hasPermission?n("div",{staticClass:"p-5"},[""===t.linkItem.thumbnail||null===t.linkItem.thumbnail?[n("div",{staticClass:"flex text-center items-center justify-center"},[n("div",{staticClass:"btn btn-primary",on:{click:t.openUploadImageForm}},[t._v("上傳圖片")])])]:[n("div",{staticClass:"flex"},[n("div",{staticClass:"flex-grow pr-3 text-center flex flex-col justify-around items-stretch"},[n("div",{staticClass:"btn btn-primary",on:{click:t.openUploadImageForm}},[t._v("更換")]),n("div",{staticClass:"btn",on:{click:t.openRemoveConfirmForm}},[t._v("移除")])]),n("div",{staticClass:"avatar"},[n("div",{staticClass:"w-28 h-28"},[n("img",{attrs:{src:t.linkItemThumbnail,alt:""}})])])])]],2):n("div",{staticClass:"p-5"},[t._v(" You don't have the permission. ")]),n("upload-image-modal",{attrs:{"modal-name":t.modalName,"modal-title":"請上傳圖片",size:500,"model-id":t.$store.state.pageId,"model-name":"VPage","field-name":"linkItemImage"},on:{"update-image":t.updateImage}}),n("confirm-modal",{attrs:{"modal-name":t.confirmModalName},on:{confirm:t.removeImage}})],1)},a=[],o=(n("a9e3"),n("9c85")),s=n("4749"),l=n("e2d4"),r=n("881a"),m=n("4409"),c={components:{uploadImageModal:s["a"],ConfirmModal:l["a"]},props:{linkItem:{type:r["a"],required:!0},idx:{type:Number,required:!0}},computed:{modalName:function(){return"linkItem"+this.linkItem.id},confirmModalName:function(){return"linkItemConfirm"+this.linkItem.id},hasPermission:function(){return this.$store.getters.hasPermission(m["d"])},linkItemThumbnail:function(){return-1!==this.linkItem.thumbnail.indexOf("cb-")?n("1c66")("./".concat(this.linkItem.thumbnail,".png")):this.linkItem.thumbnail}},methods:{openUploadImageForm:function(){this.$modal.show("ImageTypeSelectModal",{linkItemId:this.linkItem.id})},updateImage:function(t){var e=this;o["a"].linkItemUpdate({id:this.linkItem.id,field:"thumbnail",data:t}).then((function(n){e.$modal.show("result-modal",{header:"上傳成功"}),e.linkItem.thumbnail=t})).catch((function(t){console.log(t),e.$modal.show("result-modal",{header:"發生錯誤"})}))},openRemoveConfirmForm:function(){this.$modal.show(this.confirmModalName,{header:"刪除圖片",content:"您確定要刪除嗎？ 此動作無法復原。"})},removeImage:function(){var t=this;o["a"].linkItemUpdate({id:this.linkItem.id,field:"thumbnail",data:""}).then((function(e){t.$modal.show("result-modal",{header:"刪除成功"}),t.linkItem.thumbnail=""})).catch((function(e){console.log(e),t.$modal.show("result-modal",{header:"發生錯誤"})}))}}},d=c,u=n("2877"),h=Object(u["a"])(d,i,a,!1,null,"56d36c16",null);e["default"]=h.exports},e2d4:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{name:t.modalName,"max-width":600,width:"90%",height:"auto",adaptive:!0},on:{"before-open":t.beforeOpen}},[n("div",{staticClass:"card-body"},[n("h2",{staticClass:"my-2 text-xl font-bold card-title text-center"},[t._v(t._s(t.header))]),t.isContentArray?n("div",{staticClass:"text-center"},[n("ul",t._l(t.content,(function(e,i){return n("li",{key:i},[t._v(" "+t._s(e)+" ")])})),0)]):n("div",{staticClass:"text-center",domProps:{innerHTML:t._s(t.content)}}),n("div",{staticClass:"justify-center space-x-2 card-actions"},[n("button",{staticClass:"btn btn-outline",on:{click:t.cancel}},[t._v("取消")]),n("button",{staticClass:"btn",on:{click:t.confirm}},[t._v("確定")])])])])},a=[],o={data:function(){return{header:{type:String,required:!0},content:{required:!0}}},props:{modalName:{type:String,required:!0}},computed:{isContentArray:function(){return Array.isArray(this.content)}},methods:{close:function(){this.$modal.hide(this.modalName)},beforeOpen:function(t){var e=t.params;this.header=e.header||"",this.content=e.content||""},confirm:function(){this.$emit("confirm"),this.close()},cancel:function(){this.$emit("cancel"),this.close()}}},s=o,l=n("2877"),r=Object(l["a"])(s,i,a,!1,null,null,null);e["a"]=r.exports}}]);
//# sourceMappingURL=chunk-1408484a.df8869e9.js.map