(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2301a0"],{eb9f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-ob",{ref:"vob",staticClass:"mb-3",attrs:{tag:"div"}},[a("div",{staticClass:"text-center bg-gray-500 text-white py-1"},[t._v("密碼保護")]),t.hasPermission?a("div",{staticClass:"p-5"},[a("v-p",{staticClass:"form-control",attrs:{rules:"max:4|min:4",name:"密碼",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("label",{staticClass:"label"},[a("span",{staticClass:"label-text"},[t._v("密碼")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],staticClass:"input input-sm input-bordered",class:{"input-error":0!==n.length},attrs:{type:"password",minlength:"4",maxlength:"4",placeholder:"請輸入密碼"},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value)}}}),a("div",[a("span",{directives:[{name:"show",rawName:"v-show",value:n.length,expression:"errors.length"}],staticClass:"badge badge-error mt-1 mr-1"},[t._v(t._s(n[0]))])])]}}],null,!1,2885509468)}),a("div",{staticClass:"flex justify-center mt-3"},[t.showSaveBtn?a("button",{staticClass:"btn btn-primary",on:{click:t.updatePwd}},[t._v("儲存")]):t._e()])],1):a("div",{staticClass:"p-5"},[a("normal-alert")],1)])},s=[],r=a("1da1"),i=(a("96cf"),a("a9e3"),a("881a")),o=a("7bb1"),l=a("4409"),d=a("9c85"),c=a("b005"),u={data:function(){return{pwd:"",showSaveBtn:!1}},components:{VP:o["b"],NormalAlert:c["a"]},props:{linkItem:{type:i["a"],required:!0},idx:{type:Number,required:!0}},computed:{hasPermission:function(){return this.$store.getters.hasPermission(l["g"])},linkPwd:function(){return this.pwd}},methods:{updatePwd:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.vob.validate();case 2:a=e.sent,a&&d["a"].linkItemPwdUpdate({id:t.linkItem.id,link_pwd:t.pwd}).then((function(e){console.log(e.data),t.$modal.show("result-modal",{header:"更新成功"}),t.linkItem.linkPwd=e.data.pwd,t.showSaveBtn=!1})).catch((function(e){console.log(e),t.$modal.show("result-modal",{header:"發生錯誤"})}));case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;this.pwd=this.linkItem.linkPwd,this.$watch("linkPwd",(function(){t.showSaveBtn=!0}))}},p=u,m=a("2877"),w=Object(m["a"])(p,n,s,!1,null,"7efa2466",null);e["default"]=w.exports}}]);
//# sourceMappingURL=chunk-2d2301a0.2b1a2da3.js.map