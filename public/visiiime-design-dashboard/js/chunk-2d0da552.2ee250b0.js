(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0da552"],{"6ac4":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-3"},[a("div",{staticClass:"text-center bg-gray-500 text-white py-1"},[t._v("連結圖片")]),t.hasPermission?a("div",{staticClass:"p-5"},[""===t.linkItem.thumbnail||null===t.linkItem.thumbnail?[a("div",{staticClass:"flex text-center items-center justify-center"},[a("div",{staticClass:"btn btn-primary",on:{click:t.openUploadImageForm}},[t._v("上傳圖片")])])]:[a("div",{staticClass:"flex"},[a("div",{staticClass:"flex-grow pr-3 text-center flex flex-col justify-around items-stretch"},[a("div",{staticClass:"btn btn-primary",on:{click:t.openUploadImageForm}},[t._v("更換")]),a("div",{staticClass:"btn",on:{click:t.openRemoveConfirmForm}},[t._v("移除")])]),a("div",{staticClass:"avatar"},[a("div",{staticClass:"w-28 h-28"},[a("img",{attrs:{src:t.linkItemThumbnail,alt:""}})])])])]],2):a("div",{staticClass:"p-5"},[t._v(" You don't have the permission. ")]),a("upload-image-modal",{attrs:{"modal-name":t.modalName,"modal-title":"請上傳圖片",size:500,"model-id":t.$store.state.pageId,"model-name":"VPage","field-name":"linkItemImage","open-option":!0},on:{"update-image":t.updateImage}}),a("confirm-modal",{attrs:{"modal-name":t.confirmModalName},on:{confirm:t.removeImage}})],1)},n=[],o=(a("a9e3"),a("9c85")),l=a("4749"),m=a("e2d4"),s=a("881a"),d=a("4409"),r={components:{uploadImageModal:l["a"],ConfirmModal:m["a"]},props:{linkItem:{type:s["a"],required:!0},idx:{type:Number,required:!0}},computed:{modalName:function(){return"linkItem"+this.linkItem.id},confirmModalName:function(){return"linkItemConfirm"+this.linkItem.id},hasPermission:function(){return this.$store.getters.hasPermission(d["d"])},linkItemThumbnail:function(){return-1!==this.linkItem.thumbnail.indexOf("cb-")?a("1c66")("./".concat(this.linkItem.thumbnail,".png")):this.linkItem.thumbnail}},methods:{openUploadImageForm:function(){this.$modal.show("ImageTypeSelectModal",{linkItemId:this.linkItem.id})},updateImage:function(t){var e=this;o["a"].linkItemUpdate({id:this.linkItem.id,field:"thumbnail",data:t}).then((function(a){e.$modal.show("result-modal",{header:"上傳成功"}),e.linkItem.thumbnail=t})).catch((function(t){console.log(t),e.$modal.show("result-modal",{header:"發生錯誤"})}))},openRemoveConfirmForm:function(){this.$modal.show(this.confirmModalName,{header:"刪除圖片",content:"您確定要刪除嗎？ 此動作無法復原。"})},removeImage:function(){var t=this;o["a"].linkItemUpdate({id:this.linkItem.id,field:"thumbnail",data:""}).then((function(e){t.$modal.show("result-modal",{header:"刪除成功"}),t.linkItem.thumbnail=""})).catch((function(e){console.log(e),t.$modal.show("result-modal",{header:"發生錯誤"})}))}}},c=r,u=a("2877"),h=Object(u["a"])(c,i,n,!1,null,"67bb3d7c",null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d0da552.2ee250b0.js.map