{"version":3,"sources":["webpack:///./src/components/design/linkItemList/linkItem/LinkItemMain.vue?9843","webpack:///src/components/design/linkItemList/linkItem/LinkItemMain.vue","webpack:///./src/components/design/linkItemList/linkItem/LinkItemMain.vue?8ed9","webpack:///./src/components/design/linkItemList/linkItem/LinkItemMain.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","linkItem","thumbnail","style","backgroundImage","directives","name","rawName","value","expression","online","domProps","on","$event","target","composing","$set","scopedSlots","_u","key","fn","errors","updateLinkName","_v","_s","updateLink","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d217aae.3d1ae87b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-ob',{ref:\"vob\",staticClass:\"flex w-full\",attrs:{\"tag\":\"div\"}},[_c('div',{staticClass:\"p-2 w-full\"},[_c('div',{staticClass:\"flex-grow flex\"},[_c('div',{staticClass:\"h-20 w-20 border flex-grow-0 rounded-full overflow-hidden\"},[(_vm.linkItem.thumbnail === '' || _vm.linkItem.thumbnail === null)?_c('div',{staticClass:\"w-full h-full justify-center items-center flex\"},[_c('fai',{attrs:{\"icon\":['far', 'image'],\"size\":\"lg\"}})],1):_c('div',{staticClass:\"w-full h-full\"},[_c('div',{staticClass:\"w-full h-full bg-cover bg-center\",style:({ backgroundImage: 'url(' + _vm.linkItem.thumbnail + ')' })})]),_c('v-p',{attrs:{\"rules\":\"required\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.linkItem.thumbnail),expression:\"linkItem.thumbnail\"}],attrs:{\"disabled\":_vm.linkItem.online,\"type\":\"hidden\",\"required\":\"\"},domProps:{\"value\":(_vm.linkItem.thumbnail)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.linkItem, \"thumbnail\", $event.target.value)}}})])],1),_c('div',{staticClass:\"ml-2 flex-grow\"},[_c('div',{staticClass:\"flex justify-center align-middle\"},[_c('svg',{staticClass:\"h-5 w-5 mt-1 text-gray-600 fill-current cursor-pointer\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\"}})]),_c('v-p',{staticClass:\"w-full\",attrs:{\"rules\":\"required\",\"name\":\"連結名稱\",\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.linkItem.linkName),expression:\"linkItem.linkName\"}],staticClass:\"w-full text-xs p-2 focus:border-red-100 outline-none\",attrs:{\"disabled\":_vm.linkItem.online,\"type\":\"text\",\"autocomplete\":\"off\",\"placeholder\":\"連結名稱\",\"required\":\"\"},domProps:{\"value\":(_vm.linkItem.linkName)},on:{\"blur\":_vm.updateLinkName,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.linkItem, \"linkName\", $event.target.value)}}}),_c('div',{staticClass:\"mb-5 w-full text-red-500 text-xs\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1),_c('div',{staticClass:\"flex justify-center align-middle\"},[_c('svg',{staticClass:\"h-5 w-5 mt-1 text-gray-600 fill-current cursor-pointer\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"d\":\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\",\"clip-rule\":\"evenodd\"}})]),_c('v-p',{staticClass:\"w-full\",attrs:{\"rules\":\"required|url\",\"name\":\"網址\",\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.linkItem.link),expression:\"linkItem.link\"}],staticClass:\"mb-0 w-full text-xs p-2 focus:border-red-100 outline-none\",attrs:{\"disabled\":_vm.linkItem.online,\"type\":\"text\",\"autocomplete\":\"off\",\"placeholder\":\"https://www.example.com\",\"required\":\"\"},domProps:{\"value\":(_vm.linkItem.link)},on:{\"blur\":_vm.updateLink,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.linkItem, \"link\", $event.target.value)}}}),_c('div',{staticClass:\"w-full text-red-500 text-xs\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <v-ob ref=\"vob\" tag=\"div\" class=\"flex w-full\">\n            <div class=\"p-2 w-full\">\n                <div class=\"flex-grow flex\">\n                    <div class=\"h-20 w-20 border flex-grow-0 rounded-full overflow-hidden\">\n                        <div v-if=\"linkItem.thumbnail === '' || linkItem.thumbnail === null\" class=\"w-full h-full justify-center items-center flex\">\n                            <fai :icon=\"['far', 'image']\" size=\"lg\" />\n                        </div>\n                        <div v-else class=\"w-full h-full\">\n                            <div :style=\"{ backgroundImage: 'url(' + linkItem.thumbnail + ')' }\" class=\"w-full h-full bg-cover bg-center\"></div>\n                        </div>\n                        <v-p rules=\"required\">\n                            <input v-model=\"linkItem.thumbnail\" :disabled=\"linkItem.online\" type=\"hidden\" required />\n                        </v-p>\n                    </div>\n                    <div class=\"ml-2 flex-grow\">\n                        <div class=\"flex justify-center align-middle\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 mt-1 text-gray-600 fill-current cursor-pointer\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                                <path d=\"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\" />\n                            </svg>\n                            <v-p v-slot=\"{ errors }\" rules=\"required\" name=\"連結名稱\" tag=\"div\" class=\"w-full\">\n                                <input\n                                    v-model=\"linkItem.linkName\"\n                                    :disabled=\"linkItem.online\"\n                                    type=\"text\"\n                                    class=\"w-full text-xs p-2 focus:border-red-100 outline-none\"\n                                    autocomplete=\"off\"\n                                    placeholder=\"連結名稱\"\n                                    @blur=\"updateLinkName\"\n                                    required\n                                />\n                                <div class=\"mb-5 w-full text-red-500 text-xs\">{{ errors[0] }}</div>\n                            </v-p>\n                        </div>\n                        <div class=\"flex justify-center align-middle\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 mt-1 text-gray-600 fill-current cursor-pointer\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                                <path\n                                    fill-rule=\"evenodd\"\n                                    d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\"\n                                    clip-rule=\"evenodd\"\n                                />\n                            </svg>\n                            <v-p v-slot=\"{ errors }\" rules=\"required|url\" name=\"網址\" tag=\"div\" class=\"w-full\">\n                                <input\n                                    @blur=\"updateLink\"\n                                    v-model=\"linkItem.link\"\n                                    :disabled=\"linkItem.online\"\n                                    type=\"text\"\n                                    class=\"mb-0 w-full text-xs p-2 focus:border-red-100 outline-none\"\n                                    autocomplete=\"off\"\n                                    placeholder=\"https://www.example.com\"\n                                    required\n                                />\n                                <div class=\"w-full text-red-500 text-xs\">{{ errors[0] }}</div>\n                            </v-p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </v-ob>\n    </div>\n</template>\n\n<script>\nimport LinkItemVO from \"@/vo/design/linkItemList/LinkItemVO\";\nimport { ValidationProvider as VP } from \"vee-validate\";\nimport { CAN_USE_LINK_ITEM_MAIN } from \"@/enum/permission/vBasic/VPermission\";\n\nexport default {\n    components: {\n        VP,\n    },\n    props: {\n        linkItem: {\n            type: LinkItemVO,\n            required: true,\n        },\n        idx: {\n            type: Number,\n            required: true,\n        },\n    },\n    computed: {\n        modalName() {\n            return \"linkItem\" + this.idx;\n        },\n    },\n    methods: {\n        async validate() {\n            const rs = await this.$store.getters.hasPermission(CAN_USE_LINK_ITEM_MAIN);\n            if (!rs) {\n                // todo ...\n                this.linkItem.online = false;\n                return;\n            }\n            const result = await this.$refs.vob.validate();\n            if (!result) {\n                // post api\n                if (this.linkItem.thumbnail === \"\") {\n                    this.$emit(\"thumbnail-required\", \"圖片為必填\");\n                }\n\n                this.linkItem.online = false;\n                this.linkItem.valid = false;\n            } else {\n                this.linkItem.valid = true;\n                // this.$emit('link-item-update', {\n                //     field: 'online',\n                //     data: this.linkItem.online\n                // })\n            }\n        },\n        updateLink() {\n            this.validate();\n            // this.$emit('link-item-update', {\n            //     field: 'link',\n            //     data: this.linkItem.link\n            // })\n        },\n        updateLinkName() {\n            this.validate();\n            // this.$emit('link-item-update', {\n            //     field: 'link_name',\n            //     data: this.linkItem.linkName\n            // })\n        },\n    },\n    watch: {\n        \"linkItem.online\"() {\n            this.validate();\n        },\n    },\n    mounted() {\n        this.validate();\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkItemMain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkItemMain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LinkItemMain.vue?vue&type=template&id=7137f938&scoped=true&\"\nimport script from \"./LinkItemMain.vue?vue&type=script&lang=js&\"\nexport * from \"./LinkItemMain.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7137f938\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}